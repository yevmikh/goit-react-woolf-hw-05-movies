"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[885],{885:function(t,e,r){r.r(e),r.d(e,{default:function(){return P}});var n=r(861),a=r(439),o=r(757),s=r.n(o),i=r(791),c=r(689),u=r(87),l=r(390),p=function(t,e){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])},p(t,e)};function h(t){var e=t.className,r=t.counterClockwise,n=t.dashRatio,a=t.pathRadius,o=t.strokeWidth,s=t.style;return(0,i.createElement)("path",{className:e,style:Object.assign({},s,f({pathRadius:a,dashRatio:n,counterClockwise:r})),d:d({pathRadius:a,counterClockwise:r}),strokeWidth:o,fillOpacity:0})}function d(t){var e=t.pathRadius,r=t.counterClockwise?1:0;return"\n      M 50,50\n      m 0,-"+e+"\n      a "+e+","+e+" "+r+" 1 1 0,"+2*e+"\n      a "+e+","+e+" "+r+" 1 1 0,-"+2*e+"\n    "}function f(t){var e=t.counterClockwise,r=t.dashRatio,n=t.pathRadius,a=2*Math.PI*n,o=(1-r)*a;return{strokeDasharray:a+"px "+a+"px",strokeDashoffset:(e?-o:o)+"px"}}var v=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return function(t,e){function r(){this.constructor=t}p(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}(e,t),e.prototype.getBackgroundPadding=function(){return this.props.background?this.props.backgroundPadding:0},e.prototype.getPathRadius=function(){return 50-this.props.strokeWidth/2-this.getBackgroundPadding()},e.prototype.getPathRatio=function(){var t=this.props,e=t.value,r=t.minValue,n=t.maxValue;return(Math.min(Math.max(e,r),n)-r)/(n-r)},e.prototype.render=function(){var t=this.props,e=t.circleRatio,r=t.className,n=t.classes,a=t.counterClockwise,o=t.styles,s=t.strokeWidth,c=t.text,u=this.getPathRadius(),l=this.getPathRatio();return(0,i.createElement)("svg",{className:n.root+" "+r,style:o.root,viewBox:"0 0 100 100","data-test-id":"CircularProgressbar"},this.props.background?(0,i.createElement)("circle",{className:n.background,style:o.background,cx:50,cy:50,r:50}):null,(0,i.createElement)(h,{className:n.trail,counterClockwise:a,dashRatio:e,pathRadius:u,strokeWidth:s,style:o.trail}),(0,i.createElement)(h,{className:n.path,counterClockwise:a,dashRatio:l*e,pathRadius:u,strokeWidth:s,style:o.path}),c?(0,i.createElement)("text",{className:n.text,style:o.text,x:50,y:50},c):null)},e.defaultProps={background:!1,backgroundPadding:0,circleRatio:1,classes:{root:"CircularProgressbar",trail:"CircularProgressbar-trail",path:"CircularProgressbar-path",text:"CircularProgressbar-text",background:"CircularProgressbar-background"},counterClockwise:!1,className:"",maxValue:100,minValue:0,strokeWidth:8,styles:{root:{},trail:{},path:{},text:{},background:{}},text:""},e}(i.Component);function m(t){var e=t.rotation,r=t.strokeLinecap,n=t.textColor,a=t.textSize,o=t.pathColor,s=t.pathTransition,i=t.pathTransitionDuration,c=t.trailColor,u=t.backgroundColor,l=null==e?void 0:"rotate("+e+"turn)",p=null==e?void 0:"center center";return{root:{},path:g({stroke:o,strokeLinecap:r,transform:l,transformOrigin:p,transition:s,transitionDuration:null==i?void 0:i+"s"}),trail:g({stroke:c,strokeLinecap:r,transform:l,transformOrigin:p}),text:g({fill:n,fontSize:a}),background:g({fill:u})}}function g(t){return Object.keys(t).forEach((function(e){null==t[e]&&delete t[e]})),t}var x={circularProgressbar:"ratingCircle_circularProgressbar__6VTFe"},k=r(184),b=function(t){var e=t.rating,r=e/10*100;return(0,k.jsx)("div",{className:x.circularProgressbar,children:(0,k.jsx)(v,{className:x.CircularProgressbar,value:r,text:"".concat(e.toFixed(1),"/10"),styles:m({textSize:"inherit",textColor:"inherit",trailColor:"inherit",backgroundColor:"inherit",rotation:.25,strokeLinecap:"butt",pathTransitionDuration:.5,pathColor:"rgba(62, 152, 199, ".concat(r/100,")")})})})},y="movieDetails_MovieDetailsContainer__3O7sq",_="movieDetails_MovieDetailsBig__Sa8bZ",j="movieDetails_MovieDetailsImage__1gw0z",C="movieDetails_MovieDetailsContent__uGfa8",w="movieDetails_MovieDetailsButtonGroup__y7X41",N="movieDetails_MovieDetailsButton__CJcDP",D="movieDetails_MovieDetailsText__UllFV",M=r(105),P=function(){var t,e,r=(0,c.UO)().movieId,o=(0,c.s0)(),p=(0,c.TH)(),h=(0,i.useState)(null),d=(0,a.Z)(h,2),f=d[0],v=d[1],m=(0,i.useState)(!0),g=(0,a.Z)(m,2),x=g[0],P=g[1],R=(0,i.useState)(""),Z=(0,a.Z)(R,2),I=Z[0],O=Z[1];(0,i.useEffect)((function(){if(r){var t=function(){var t=(0,n.Z)(s().mark((function t(){var e;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,(0,l.mU)(r);case 3:(e=t.sent)?v(e):O("No movie details available."),t.next=11;break;case 7:t.prev=7,t.t0=t.catch(0),console.error("Failed to fetch movie details:",t.t0),O("Failed to fetch movie details.");case 11:return t.prev=11,P(!1),t.finish(11);case 14:case"end":return t.stop()}}),t,null,[[0,7,11,14]])})));return function(){return t.apply(this,arguments)}}();t()}}),[r]);if(x)return(0,k.jsx)(M.Z,{});if(I)return(0,k.jsx)("div",{children:I});if(!f)return(0,k.jsx)(M.Z,{});return(0,k.jsxs)("div",{className:_,children:[(0,k.jsx)("button",{className:N,onClick:function(){var t,e=(null===(t=p.state)||void 0===t?void 0:t.from)||"/";o(e)},children:"Go Back"}),(0,k.jsxs)("div",{children:[(0,k.jsxs)("div",{className:y,children:[(0,k.jsx)("img",{className:j,src:f.poster_path?"https://image.tmdb.org/t/p/w300".concat(f.poster_path):"https://glavcom.ua/img/article/9139/95_main-v1678685008.jpg",alt:f.title}),(0,k.jsxs)("div",{className:C,children:[(0,k.jsx)("h1",{children:f.title}),(0,k.jsx)("p",{className:D,children:f.overview}),(0,k.jsxs)("p",{className:D,children:[(0,k.jsx)("strong",{children:"Genres:"})," ",f.genres.map((function(t){return t.name})).join(", ")]}),(0,k.jsxs)("p",{className:D,children:[(0,k.jsx)("strong",{children:"Release Date:"})," ",f.release_date]}),(0,k.jsx)("div",{children:(0,k.jsx)(b,{rating:f.vote_average})}),(0,k.jsxs)("div",{className:w,children:[(0,k.jsx)(u.rU,{className:N,to:"/movies/".concat(r,"/cast"),state:{from:(null===(t=p.state)||void 0===t?void 0:t.from)||"/"},children:"Cast"}),(0,k.jsx)(u.rU,{className:N,to:"/movies/".concat(r,"/reviews"),state:{from:(null===(e=p.state)||void 0===e?void 0:e.from)||"/"},children:"Reviews"})]})]})]}),(0,k.jsx)(c.j3,{})]})]})}},390:function(t,e,r){r.d(e,{BC:function(){return i},S:function(){return p},SM:function(){return u},gH:function(){return v},mU:function(){return d}});var n=r(861),a=r(757),o=r.n(a),s={method:"GET",headers:{accept:"application/json",Authorization:"Bearer eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiIyZTdmY2RiMDQ0YzM1MWNiMDU0MzBjNzIxZmM3MWYzMCIsInN1YiI6IjY2MmFlYjUyOWFjNTM1MDExZThlZGMxZiIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.22_Uj8QmqDYwiimB9nQTCC2aQ24zHqn3tCOHcJ_dYM4"}};function i(){return c.apply(this,arguments)}function c(){return(c=(0,n.Z)(o().mark((function t(){var e,r;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,fetch("https://api.themoviedb.org/3/trending/movie/day?language=en-US",s);case 3:return e=t.sent,t.next=6,e.json();case 6:return r=t.sent,t.abrupt("return",r);case 10:return t.prev=10,t.t0=t.catch(0),t.abrupt("return",console.error(t.t0));case 13:case"end":return t.stop()}}),t,null,[[0,10]])})))).apply(this,arguments)}function u(t){return l.apply(this,arguments)}function l(){return(l=(0,n.Z)(o().mark((function t(e){var r,n;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,fetch("https://api.themoviedb.org/3/movie/".concat(e,"/reviews?language=en-US&page=1"),s);case 3:return r=t.sent,t.next=6,r.json();case 6:return n=t.sent,t.abrupt("return",n);case 10:return t.prev=10,t.t0=t.catch(0),t.abrupt("return",console.error(t.t0));case 13:case"end":return t.stop()}}),t,null,[[0,10]])})))).apply(this,arguments)}function p(t){return h.apply(this,arguments)}function h(){return(h=(0,n.Z)(o().mark((function t(e){var r,n;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,fetch("https://api.themoviedb.org/3/movie/".concat(e,"/credits?language=en-US"),s);case 3:return r=t.sent,t.next=6,r.json();case 6:return n=t.sent,t.abrupt("return",n);case 10:return t.prev=10,t.t0=t.catch(0),t.abrupt("return",console.error(t.t0));case 13:case"end":return t.stop()}}),t,null,[[0,10]])})))).apply(this,arguments)}function d(t){return f.apply(this,arguments)}function f(){return(f=(0,n.Z)(o().mark((function t(e){var r,n;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,fetch("https://api.themoviedb.org/3/movie/".concat(e,"?language=en-US"),s);case 3:return r=t.sent,t.next=6,r.json();case 6:return n=t.sent,t.abrupt("return",n);case 10:return t.prev=10,t.t0=t.catch(0),t.abrupt("return",console.error(t.t0));case 13:case"end":return t.stop()}}),t,null,[[0,10]])})))).apply(this,arguments)}function v(t){return m.apply(this,arguments)}function m(){return(m=(0,n.Z)(o().mark((function t(e){var r,n;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,fetch("https://api.themoviedb.org/3/search/movie?query=".concat(e,"&include_adult=false&language=en-US&page=1"),s);case 3:return r=t.sent,t.next=6,r.json();case 6:return n=t.sent,t.abrupt("return",n);case 10:return t.prev=10,t.t0=t.catch(0),t.abrupt("return",console.error(t.t0));case 13:case"end":return t.stop()}}),t,null,[[0,10]])})))).apply(this,arguments)}},861:function(t,e,r){function n(t,e,r,n,a,o,s){try{var i=t[o](s),c=i.value}catch(u){return void r(u)}i.done?e(c):Promise.resolve(c).then(n,a)}function a(t){return function(){var e=this,r=arguments;return new Promise((function(a,o){var s=t.apply(e,r);function i(t){n(s,a,o,i,c,"next",t)}function c(t){n(s,a,o,i,c,"throw",t)}i(void 0)}))}}r.d(e,{Z:function(){return a}})}}]);
//# sourceMappingURL=885.7d250a73.chunk.js.map